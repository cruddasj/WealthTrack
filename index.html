<!doctype html>
<html lang="en" class="min-h-full bg-gray-100 dark:bg-gray-900">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WealthTrack</title>
    <meta name="theme-color" content="#111827" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="assets/icons/app-logo.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="assets/icons/icon-192.png" />

    <!-- Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome for icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      rel="stylesheet"
    />

    <!-- App styles -->
    <link rel="stylesheet" href="assets/styles.css" />
  </head>

  <body
    class="min-h-screen flex flex-col md:flex-row bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"
    style="min-height: 100vh; min-height: 100dvh;"
  >
    <!-- SVG sprite: simplified app logo -->
    <svg
      aria-hidden="true"
      width="0"
      height="0"
      style="position: absolute"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <defs>
        <symbol id="app-logo" viewBox="0 0 64 64">
          <circle cx="32" cy="32" r="30" fill="currentColor" opacity="0.12" />
          <path
            d="M18 42c6-9.5 12-14.5 18-15 5.77-.46 11.54 2.67 18 10l-4 4c-4.76-5.67-8.76-7.88-12-7.63C33 33.7 29 37 24 45z"
            fill="currentColor"
          />
          <circle cx="32" cy="26" r="6" fill="currentColor" />
        </symbol>
      </defs>
    </svg>

    <!-- Mobile Header -->
    <div
      id="mobileHeader"
      class="md:hidden flex items-center justify-start gap-4 p-4 bg-white dark:bg-gray-800 shadow-md"
    >
      <button id="menu-toggle" class="text-gray-900 dark:text-gray-100">
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16m-7 6h7"
          />
        </svg>
      </button>
      <div class="flex items-center">
        <svg class="h-10 w-10 mr-2 text-gray-800 dark:text-white -mt-2" fill="currentColor">
          <use href="#app-logo" xlink:href="#app-logo" />
        </svg>
        <h1 class="text-xl font-bold text-gray-900 dark:text-gray-100">
          WealthTrack
        </h1>
      </div>
    </div>

    <!-- Sidebar -->
    <div
      id="sidebar"
      class="fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 p-6 flex flex-col items-center shadow-lg border-r border-gray-200 dark:border-gray-700 overflow-y-auto md:overflow-visible transform -translate-x-full md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 md:min-h-screen"
      style="min-height: 100vh; min-height: 100dvh;"
    >
      <div class="mb-8 w-full">
        <button id="brandHome" class="flex flex-col items-center w-full cursor-pointer">
          <svg id="brandLogo" class="text-gray-800 dark:text-white mb-1 -mt-8" fill="currentColor" style="height: auto">
            <use href="#app-logo" xlink:href="#app-logo" />
          </svg>
          <h1
            id="brandTitle"
            class="text-2xl leading-none font-bold text-center text-gray-900 dark:text-gray-100"
          >
            WealthTrack
          </h1>
        </button>
      </div>

      <div class="mb-8">
        <label class="dark-mode-toggle">
          <span class="mr-3 font-semibold text-gray-500 dark:text-gray-400">
            Dark Mode
          </span>
          <input type="checkbox" id="themeToggle" class="peer" />
          <span class="toggle-track"><span class="toggle-thumb"></span></span>
        </label>
      </div>

      <nav class="w-full">
        <button class="nav-btn active-nav-button" data-target="welcome">
          <span class="flex items-center">
            <i class="fa-solid fa-circle-info h-5 w-5 mr-3"></i>
            Welcome
          </span>
        </button>
        <button class="nav-btn" data-target="settings">
          <span class="flex items-center">
            <i class="fa-solid fa-sliders-h h-5 w-5 mr-3"></i>
            Settings
          </span>
        </button>
      </nav>
    </div>

    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden md:hidden"></div>

    <main class="flex-1 p-4 md:p-8 overflow-y-auto md:overflow-y-visible overflow-x-hidden">
      <div id="welcome" class="content-section active">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6">
          Welcome to WealthTrack
        </h2>
        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">Welcome</h3>
          <p class="text-gray-700 dark:text-gray-300 mb-4">
            WealthTrack is a lightweight progressive web app template that gives you a responsive shell, offline support, and a foundation for future financial tools.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="guidance-card h-full" data-first-time>
              <h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">Quick tips</h4>
              <ul class="list-disc pl-5 text-gray-700 dark:text-gray-300 space-y-2">
                <li>Install WealthTrack on your device for an app-like experience with offline caching.</li>
                <li>Use the Settings page to pick a visual theme and control which guidance cards appear.</li>
                <li>The sidebar dark mode switch updates immediately and your preference is remembered.</li>
              </ul>
            </div>
            <div class="guidance-card h-full" data-first-time>
              <h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">What&apos;s included</h4>
              <ul class="list-disc pl-5 text-gray-700 dark:text-gray-300 space-y-2">
                <li>A modern layout with responsive navigation for desktop and mobile.</li>
                <li>Service worker integration for offline access and update notifications.</li>
                <li>A changelog viewer that keeps release notes close to your users.</li>
              </ul>
            </div>
          </div>
          <div class="mt-6 flex flex-wrap gap-3 justify-end">
            <button class="btn btn-blue" data-action="go-settings">Open Settings</button>
          </div>
        </div>
      </div>

      <div id="settings" class="content-section">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-left">
          Settings
        </h2>
        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">Version</h3>
          <div class="card-body">
            <p class="text-sm text-gray-700 dark:text-gray-300">
              WealthTrack version
              <span data-app-version class="font-semibold text-gray-900 dark:text-gray-100">dev</span>
            </p>
            <div class="mt-4 flex flex-col gap-3 sm:items-start">
              <button class="btn btn-blue w-full sm:w-auto" data-action="update-app" type="button">
                Check for updates
              </button>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                Installs the latest version without clearing your saved preferences.
              </p>
            </div>
          </div>
        </div>

        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">Preferences</h3>
          <div class="card-body space-y-6">
            <div>
              <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
                Choose a look and feel. Your choice is saved for next time.
              </p>
              <div class="max-w-xs">
                <label for="themeSelect" class="form-label">Theme</label>
                <select id="themeSelect" class="input-field">
                  <option value="default">Default</option>
                  <option value="inverted">Inverted</option>
                  <option value="glass">Glass</option>
                </select>
              </div>
            </div>
            <div>
              <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
                Show or hide the welcome guidance cards once you&apos;re familiar with the app.
              </p>
              <label class="dark-mode-toggle">
                <span class="mr-3 font-semibold text-gray-500 dark:text-gray-400">
                  Show first-time use guidance
                </span>
                <input type="checkbox" id="welcomeToggle" class="peer" />
                <span class="toggle-track"><span class="toggle-thumb"></span></span>
              </label>
            </div>
          </div>
        </div>

        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Reset App</h3>
          <div class="card-body">
            <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
              Clear all locally stored data and restart the app.
            </p>
            <button class="btn btn-red flex items-center" data-action="clear-data">
              <i class="fa-solid fa-trash mr-2"></i>
              Clear Data
            </button>
          </div>
        </div>

        <div id="changelogCard" class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">Changelog</h3>
          <div class="card-body space-y-4">
            <p class="text-sm text-gray-700 dark:text-gray-300">
              The five most recent WealthTrack updates can be found below.
            </p>
            <div data-changelog-list class="space-y-4"></div>
            <p data-changelog-empty class="text-sm text-gray-500 dark:text-gray-400 hidden">
              Recent release notes will appear here after the next update.
            </p>
            <p data-changelog-error class="text-sm text-red-600 dark:text-red-400 hidden">
              We couldn&apos;t load the changelog. Please check your connection and try again.
            </p>
          </div>
        </div>
      </div>
    </main>

    <script src="assets/js/app.js"></script>
  </body>
</html>

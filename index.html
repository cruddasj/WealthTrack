<!doctype html>
<html lang="en" class="min-h-full bg-gray-100 dark:bg-gray-900">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WealthTrack</title>
    <meta name="theme-color" content="#111827" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="assets/icons/app-logo.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="assets/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="assets/icons/icon-192.png" />

    <!-- Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome for icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      rel="stylesheet"
    />

    <!-- App styles -->
    <link rel="stylesheet" href="assets/styles.css" />
  </head>

  <body
    class="min-h-screen flex flex-col md:flex-row bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"
    style="min-height: 100vh; min-height: 100dvh;"
  >
    <!-- SVG sprite: app logo + small icons -->
    <svg
      aria-hidden="true"
      width="0"
      height="0"
      style="position: absolute"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <defs>
        <symbol id="app-logo" viewBox="200 100 600 600">
          <g transform="translate(0,-48)">
            <path
              d="M602.566406,534.441406 C599.350708,538.046082 596.109924,537.610718 593.234192,534.897156 C590.414062,532.236206 590.554688,528.900452 592.847473,525.955811 C594.970642,523.229004 598.030029,522.828308 600.818420,524.668274 C604.375671,527.015564 605.023621,530.370178 602.566406,534.441406 z"
            />
            <path
              d="M608.817993,496.823425 C612.989502,497.971619 614.722839,500.513824 614.136597,504.368530 C613.728210,507.053802 612.175964,508.960663 609.283020,509.295197 C605.448608,509.738586 602.707031,508.274719 601.860535,504.350220 C601.046753,500.577240 603.557007,497.804993 608.817993,496.823425 z"
            />
            <path
              d="M534.781982,435.590393 C537.792664,430.259430 540.605591,428.946350 543.762695,431.355835 C546.098206,433.138245 547.823364,435.435760 546.535767,438.637238 C545.336548,441.619019 542.936157,443.089111 539.812378,442.551880 C536.287476,441.945679 534.220398,439.814392 534.781982,435.590393 z"
            />
            <path
              d="M454.414001,340.945312 C460.930267,333.181458 468.311157,331.351349 476.412903,335.793915 C481.914978,338.792908 484.337036,344.058258 482.403473,350.450623 C479.705566,359.382385 470.501465,363.175995 462.399963,358.043793 C456.096588,354.128693 454.118500,347.707489 454.414001,340.945312 z"
            />
            <path
              d="M316.118500,335.093536 C318.694275,337.014832 319.446503,339.032623 317.984039,341.807892 C315.181366,347.100708 312.673462,352.551544 309.858154,357.850464 C308.856842,359.741791 306.905853,359.999664 305.084900,358.960724 C303.106445,357.821198 302.632843,355.979126 303.515625,353.960480 C305.892212,348.449646 308.425873,343.007721 311.092621,337.625427 C312.059235,335.682739 313.821838,334.858765 316.118500,335.093536 z"
            />
            <path
              d="M377.860199,257.934113 C383.243561,249.481781 388.269257,247.222641 395.426666,249.946503 C402.222473,252.535309 404.940674,258.448547 402.528229,265.622345 C399.907867,273.377686 392.137665,276.268250 384.843658,272.023163 C380.664490,269.612671 378.985474,265.649597 377.860199,257.934113 z"
            />
            <path
              d="M691.785461,439.068939 C697.301270,444.911407 697.558960,450.616882 692.767456,455.778625 C688.183594,460.713226 682.402405,461.009399 676.613586,456.574829 C670.714844,452.061127 669.769104,447.146942 674.097107,441.063049 C678.224060,435.270813 684.647156,434.417145 691.785461,439.068939 z"
            />
            <path
              d="M672.877686,366.238708 C666.840027,366.300507 663.800903,364.307526 662.919250,359.774261 C662.094421,355.539276 664.150085,352.361694 668.615906,350.716827 C676.205139,347.951965 682.889160,351.758453 683.570801,359.649841 C683.984314,364.400543 681.159302,366.176392 672.877686,366.238708 z"
            />
            <path
              d="M714.252197,313.978882 C719.154419,318.741516 719.237732,323.420959 714.352173,328.200500 C709.623901,332.823547 703.997620,333.021210 699.139221,328.789246 C694.010620,324.317017 694.182312,318.170319 699.509216,313.721771 C703.950500,310.019226 709.284546,310.323822 714.252197,313.978882 z"
            />
            <path
              d="M646.244324,286.412903 C643.637024,277.778320 646.214417,272.763031 654.513306,270.104919 C661.408569,267.866699 666.606262,270.601715 668.469604,277.373016 C670.306030,284.045654 667.411743,289.183685 661.079834,290.785950 C653.239075,292.749146 648.433289,290.360565 646.244324,286.412903 z"
            />
            <path
              d="M585.102661,303.753113 C580.727966,299.847321 580.381287,295.280273 584.112732,290.765381 C587.521912,286.657776 592.070618,286.208862 596.509583,289.514099 C601.596924,293.279572 602.259583,297.966125 598.597168,302.524109 C595.203491,306.746429 590.708496,307.215851 585.102661,303.753113 z"
            />
            <path
              d="M515.299377,289.776825 C508.161041,284.933716 506.526398,279.575836 509.985046,273.845978 C513.468994,268.070099 519.425903,266.560120 525.935242,269.975494 C532.780090,273.576050 534.276855,278.768280 530.204773,285.199280 C526.928772,290.336884 521.854736,291.261566 515.299377,289.776825 z"
            />
            <path
              d="M458.542816,310.942841 C450.900787,308.444519 447.949768,303.783997 450.161865,298.171783 C452.505188,292.166443 458.153839,290.094147 465.405151,293.117310 C471.952942,295.861633 474.322876,300.262878 471.842896,305.933228 C469.601135,311.057983 465.324921,312.477142 458.542816,310.942841 z"
            />
            <path
              d="M371.211212,347.020355 C363.404083,343.806976 360.941254,339.324982 363.313385,333.222137 C365.602386,327.316620 371.511597,325.344360 378.511353,328.620392 C385.245636,331.768982 387.624603,336.330750 385.085999,342.300018 C382.762726,347.770203 378.148010,349.555145 371.211212,347.020355 z"
            />
            <path
              d="M334.203949,410.133820 C326.639130,406.303528 324.358032,401.666901 327.125824,395.892792 C329.891296,390.123016 335.653351,388.713318 342.852417,392.239166 C349.631927,395.551575 351.982391,400.072296 349.211823,405.675507 C346.708344,410.730103 342.127533,412.405182 334.203949,410.133820 z"
            />
            <path
              d="M299.865631,470.190216 C296.094543,468.749817 294.491913,466.301849 295.308167,462.720673 C295.997437,459.589417 298.150452,457.760864 301.303009,457.408844 C305.518250,456.935242 308.369415,458.847748 308.995178,462.840332 C309.608459,466.752838 307.471375,469.346924 302.953186,470.089417 C301.934021,470.257050 300.885590,470.255066 299.865631,470.190216 z"
            />
            <path
              d="M283.308136,514.201599 C288.077850,516.709167 289.693970,520.186279 288.173523,524.826538 C286.723816,529.252319 283.393677,531.073669 278.584290,530.265869 C272.895386,529.326416 269.956848,525.548279 271.269623,520.175476 C272.612915,514.663940 277.149475,512.014160 283.308136,514.201599 z"
            />
            <path
              d="M301.195221,550.077026 C306.650787,554.103149 307.360107,557.978149 303.662567,562.732788 C300.031403,567.399597 295.374664,567.779724 290.595673,564.001526 C285.508453,560.004333 285.125610,555.405151 289.115448,550.730896 C292.536652,546.715454 296.673920,546.471130 301.195221,550.077026 z"
            />
            <path
              d="M351.635437,567.082214 C357.906860,571.147522 358.864075,575.776367 354.270905,581.396179 C349.858887,586.792297 344.182312,587.196594 338.493469,582.686768 C332.899811,578.258301 332.131500,573.441101 336.335083,567.856689 C340.033203,562.888306 345.034973,562.842712 351.635437,567.082214 z"
            />
            <path
              d="M405.991394,575.955933 C412.689087,579.676880 413.980865,584.336487 409.909302,589.854858 C405.944519,595.227600 400.168732,595.812500 394.209381,591.636414 C388.640930,587.728027 387.192932,582.785522 391.037354,577.294434 C394.470367,572.392517 399.276306,572.109253 405.991394,575.955933 z"
            />
            <path
              d="M462.930267,572.435425 C470.274353,575.116638 472.426514,579.640442 469.359680,585.346802 C466.307343,591.026672 461.101532,592.518799 454.754181,589.716858 C448.666107,587.032471 446.622223,582.467346 449.504822,576.923523 C452.072479,571.948547 456.423645,570.524414 462.930267,572.435425 z"
            />
            <path
              d="M523.168884,559.120300 C531.393982,560.483276 534.598083,563.873901 533.815796,569.646606 C533.060120,575.210510 528.978088,577.999878 522.460388,577.337219 C515.644409,576.645081 512.232422,572.963440 513.167847,566.938965 C514.014282,561.661804 517.548462,558.939087 523.168884,559.120300 z"
            />
            <path
              d="M580.895264,540.874268 C589.026672,541.573547 592.149353,544.905396 591.414368,550.793091 C590.716370,556.355408 586.766724,559.011780 580.341492,558.353088 C573.696167,557.674500 570.405640,554.054932 571.281311,548.144348 C571.987183,543.291321 575.360413,540.679260 580.895264,540.874268 z"
            />
            <path
              d="M640.208069,513.222839 C648.155701,512.753235 651.644775,515.611450 651.318176,522.071533 C651.005920,528.321533 647.266846,531.392090 640.898254,531.078125 C634.228455,530.749329 630.751099,527.214844 631.365540,520.739441 C631.856934,515.496033 635.234314,513.510376 640.208069,513.222839 z"
            />
            <path
              d="M682.020752,471.761047 C688.946899,469.390625 693.085449,471.442108 694.677002,477.607666 C696.072754,483.020935 693.386230,486.989197 687.328064,488.605896 C681.283020,490.219391 676.835938,487.987732 675.117920,482.006439 C673.558899,476.541626 675.898621,473.323181 682.020752,471.761047 z"
            />
          </g>
        </symbol>
      </defs>
    </svg>

    <!-- Mobile Header -->
    <div
      id="mobileHeader"
      class="md:hidden flex items-center justify-start gap-4 p-4 bg-white dark:bg-gray-800 shadow-md"
    >
      <button id="menu-toggle" class="text-gray-900 dark:text-gray-100">
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16m-7 6h7"
          />
        </svg>
      </button>
      <div class="flex items-center">
        <svg
          class="h-10 w-10 mr-2 text-gray-800 dark:text-white -mt-2"
          fill="currentColor"
        >
          <use href="#app-logo" xlink:href="#app-logo" />
        </svg>
        <h1 class="text-xl font-bold text-gray-900 dark:text-gray-100">
          WealthTrack
        </h1>
      </div>
    </div>

    <!-- Sidebar -->
    <div
      id="sidebar"
      class="fixed inset-y-0 left-0 w-64 bg-white dark:bg-gray-800 p-6 flex flex-col items-center shadow-lg border-r border-gray-200 dark:border-gray-700 overflow-y-auto md:overflow-visible transform -translate-x-full md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 md:min-h-screen"
      style="min-height: 100vh; min-height: 100dvh;"
    >
      <div class="mb-8 w-full">
        <button
          id="brandHome"
          class="flex flex-col items-center w-full cursor-pointer"
        >
          <svg
            id="brandLogo"
            class="text-gray-800 dark:text-white mb-1 -mt-8"
            fill="currentColor"
            style="height: auto"
          >
            <use href="#app-logo" xlink:href="#app-logo" />
          </svg>
          <h1
            id="brandTitle"
            class="text-2xl leading-none font-bold text-center text-gray-900 dark:text-gray-100"
          >
            WealthTrack
          </h1>
        </button>
      </div>

      <div class="mb-8">
        <label class="dark-mode-toggle">
          <span class="mr-3 font-semibold text-gray-500 dark:text-gray-400"
            >Dark Mode</span
          >
          <input type="checkbox" id="themeToggle" class="peer" />
          <span class="toggle-track"><span class="toggle-thumb"></span></span>
        </label>
      </div>

      <nav class="w-full">
        <button class="nav-btn active-nav-button" data-target="welcome">
          <span class="flex items-center">
            <i class="fa-solid fa-circle-info h-5 w-5 mr-3"></i>
            Welcome
          </span>
        </button>
        <button class="nav-btn" data-target="settings">
          <span class="flex items-center">
            <i class="fa-solid fa-sliders-h h-5 w-5 mr-3"></i>
            Settings
          </span>
        </button>
      </nav>
    </div>

    <div
      id="overlay"
      class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden md:hidden"
    ></div>

    <main class="flex-1 p-4 md:p-8 overflow-y-auto md:overflow-y-visible overflow-x-hidden">
      <div id="welcome" class="content-section active">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6">
          Welcome to WealthTrack
        </h2>
        <div class="card" data-first-time>
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
            Get started
          </h3>
          <p class="text-gray-700 dark:text-gray-300 mb-4">
            WealthTrack is a lightweight Progressive Web App that keeps your data on this device. Adjust the appearance, manage updates, and stay informed about new releases from the Settings page.
          </p>
          <ul class="list-disc pl-5 space-y-2 text-gray-700 dark:text-gray-300 mb-6">
            <li>Install WealthTrack as a PWA to access it like a native app.</li>
            <li>Use dark mode or alternate themes to match your environment.</li>
            <li>Review the changelog after each update to see what's new.</li>
          </ul>
          <div class="flex flex-wrap gap-3">
            <button class="btn btn-blue" data-action="go-settings">
              Open Settings
            </button>
          </div>
        </div>

        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
            About this release
          </h3>
          <p class="text-gray-700 dark:text-gray-300">
            This simplified build focuses on the core PWA experience so you can install WealthTrack, manage its theme, and follow future progress through the built-in changelog.
          </p>
        </div>
      </div>

      <div id="settings" class="content-section">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6">
          Settings
        </h2>
        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
            Version
          </h3>
          <div class="space-y-4">
            <p class="text-sm text-gray-700 dark:text-gray-300">
              WealthTrack version
              <span
                data-app-version
                class="font-semibold text-gray-900 dark:text-gray-100"
                >dev</span
              >
            </p>
            <div class="flex flex-col gap-3 sm:items-start">
              <button
                class="btn btn-blue w-full sm:w-auto"
                data-action="update-app"
                type="button"
              >
                Check for updates
              </button>
              <p class="text-xs text-gray-500 dark:text-gray-400">
                Installs the latest version without clearing your saved preferences.
              </p>
            </div>
          </div>
        </div>

        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
            Layout Settings
          </h3>
          <div class="space-y-6">
            <div>
              <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
                Choose a look and feel. Your choice is saved for the next visit.
              </p>
              <div class="max-w-xs">
                <label for="themeSelect" class="form-label">Theme</label>
                <select id="themeSelect" class="input-field">
                  <option value="default">Default</option>
                  <option value="inverted">Inverted</option>
                  <option value="glass">Glass</option>
                </select>
              </div>
            </div>
            <div>
              <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
                Decide whether the navigation menu stays fixed at the top while scrolling on mobile devices.
              </p>
              <label class="dark-mode-toggle">
                <span class="mr-3 font-semibold text-gray-500 dark:text-gray-400"
                  >Keep navigation menu fixed on mobile</span
                >
                <input
                  type="checkbox"
                  id="mobileNavStickyToggle"
                  class="peer"
                  checked
                />
                <span class="toggle-track"><span class="toggle-thumb"></span></span>
              </label>
            </div>
            <div>
              <p class="text-gray-700 dark:text-gray-300 text-sm mb-4">
                Show or hide welcome tips once you're familiar with the app.
              </p>
              <label class="dark-mode-toggle">
                <span class="mr-3 font-semibold text-gray-500 dark:text-gray-400"
                  >Show first-time use guidance</span
                >
                <input type="checkbox" id="welcomeToggle" class="peer" />
                <span class="toggle-track"><span class="toggle-thumb"></span></span>
              </label>
            </div>
          </div>
        </div>

        <div class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3">
            Reset App
          </h3>
          <div class="space-y-4">
            <p class="text-gray-700 dark:text-gray-300 text-sm">
              Clear all locally stored data and restart the app.
            </p>
            <button class="btn btn-red flex items-center" data-action="clear-data">
              <i class="fa-solid fa-trash mr-2"></i>
              Clear Data
            </button>
          </div>
        </div>

        <div id="changelogCard" class="card">
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100">
            Changelog
          </h3>
          <div class="space-y-4">
            <p class="text-sm text-gray-700 dark:text-gray-300">
              The most recent WealthTrack updates appear here.
            </p>
            <div data-changelog-list class="space-y-4"></div>
            <p
              data-changelog-empty
              class="text-sm text-gray-500 dark:text-gray-400 hidden"
            >
              Recent release notes will appear here after the next update.
            </p>
            <p
              data-changelog-error
              class="text-sm text-red-600 dark:text-red-400 hidden"
            >
              We couldn't load the changelog. Please check your connection and try again.
            </p>
          </div>
        </div>
      </div>
    </main>

    <script src="assets/js/app.js"></script>
  </body>
</html>
